@model LeadGen.Code.Lead.LeadItem
@{string formID = "LeadConfirationForm";}
@using (Html.BeginForm("Confirm", null, null, FormMethod.Post, true, new
{
    @class = "form-horizontal",
    id = formID,
    data_ajax = "true",
    data_ajax_loading = "#LoadingWindowSplash",
    data_ajax_mode = "replace-with",
    data_ajax_update = "#" + formID
}))
{
    @Html.AntiForgeryToken()
    <h2>Please Review The Order</h2>

    @Html.DisplayFor(x => x.fieldGroups)

    <div class="form-group">
        @Html.LabelFor(x => x.email, "E-mail", new { @class = "col-sm-2 control-label" })
        <div class="col-sm-10">
            @Model.email
            @Html.HiddenFor(x => x.email)
        </div>
    </div>

    <hr />

    <div class="form-group">
        @Html.Label("AgreeWithSystemTerms", "I agree with terms and conditions", new { @class = "col-sm-2 control-label" })
        <div class="col-sm-10">
            @Html.CheckBox("AgreeWithSystemTerms", false)
            @Html.ValidationMessage("AgreeWithSystemTerms")
        </div>
    </div>

    <hr />

    <div class="form-group">
        @Html.Hidden("GoBackToOrder", false, new { id = "GoBackToOrder" })
        <div class="col-xs-2"><button id="GoBackToOrderBtn" type="submit" class="btn btn-default" onclick="$('#GoBackToOrder').val('True')">Back</button></div>
        <div class="col-xs-10"><button type="submit" class="btn btn-primary">Confirm</button></div>
    </div>

    <script>
    if (window.location.hash != "review") {
        window.location.hash = "review"
        setTimeout(function () {
            var fn = function () {
                window.removeEventListener('hashchange', fn, false);
                $("#GoBackToOrderBtn").click();
            }
            window.addEventListener('hashchange', fn, false);
        }, 200);
    }
    </script>
}



