@model Post
@using LeadGen.Code.CMS
@section SEO{@Html.DisplayFor(x => x.SEO)}
@section CustomCSS{@{await Html.RenderPartialAsync("DisplayTemplates/CustomCSS", Model.customCSS);}}
@{
    CMSContext cmsContext = ViewBag.CMSContext;
}

    <article class="box">
        @{ await Html.RenderPartialAsync("PostTitle", new PostTitle(cmsContext.post)); }
        @Html.Raw(Model.contentMain)
        @Html.Raw(Model.contentEnding)
    </article>

@{ await Html.RenderPartialAsync("_UnderArticleContent");}

@if (cmsContext.widgetsLayoutSidebarRight != null && cmsContext.widgetsLayoutSidebarRight.Any())
{
    @section Sidebar{
        @foreach (Post widget in cmsContext.widgetsLayoutSidebarRight)
        {
            await Html.RenderPartialAsync("Widgets/_WidgetLayout", widget);
        }
    }
}